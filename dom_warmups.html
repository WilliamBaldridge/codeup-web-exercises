<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM Warmups</title>
    <style>
        .letter {
            cursor: crosshair;
        }
        .title-letter {
            color: firebrick;
            font-size: 3em;
        }
        .bg-colors li {
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>The sum is: <span id="sum-output">0</span></h1>
<label for="number">Number</label>
<input id="number" type="number" name="number" min="0" max="5">
<button id="add-btn">Add</button>

<h1>
    <span class="letter">D</span><span class="letter">O</span><span class="letter">M</span>
    <span class="letter">W</span><span class="letter">a</span><span class="letter">r</span><span class="letter">m</span>
    <span class="letter">U</span><span class="letter">p</span><span class="letter">s</span>
</h1>
<h3>Letter from title in lowercase: <span class="title-letter"></span></h3>

<div id="list-container">
    <ul id="list">
        <li data-value="1"></li>
        <li data-value="2"></li>
        <li data-value="3"></li>
        <li data-value="4"></li>
        <li data-value="5"></li>
        <li data-value="6"></li>
        <li data-value="7"></li>
        <li data-value="8"></li>
        <li data-value="9"></li>
    </ul>
</div>
<div id="binary-container">
    <h2 id="#binary-display"></h2>
</div>

<hr>

<ul class="bg-colors">
    <li>Red</li>
    <li>Green</li>
    <li>Blue</li>
</ul>

<!--  Include the CDN script for jQuery below -->
<script
        src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
        crossorigin="anonymous"></script>
<script>
    "use strict";

    // TODO: add the needed JS so that the number selected in the number input will be added to the number in the span

    // function sumTotal() {
    //     let currentSum = parseInt($("#sum-output").text());
    //     let inputNum = parseInt( $("#number").val());
    //     currentSum += inputNum;
    //     return $("#sum-output").text(currentSum);
    // }
    //
    // $("#add-btn").click(sumTotal);



    renderSumTotal("#sum-output", "#number", "#add-btn");
    // renderSumTotal("#sum-output2", "#number2", "#add-btn2"); able to use across multiple/new id's
    function sumTotal(sumOutput, num) {
        let currentSum = parseInt($(sumOutput).text());
        let inputNum = parseInt( $(num).val());
        currentSum += inputNum;
        return $(sumOutput).text(currentSum);
    }
    function renderSumTotal(sumOutput, num, btn){
        $(btn).click(() => sumTotal(sumOutput, num));
    }

    /*
    TODO: add the needed JS so that when the cursor hovers over a letter in the h1 title,
     the letter will appear in the span with a class of `title-letter`, in lowercase.
     When the cursor is not hovering over a letter in the h1 title, no letter should be
     displayed in the span with a class of `title-letter`.
    */

    let hoverIn = function () {
        let lowerCase = $(this).text().toLowerCase();
        $(".title-letter").text(lowerCase);
    }

    let hoverOut = function () {
        $(".title-letter").text("");
    }

    $(".letter").hover(hoverIn, hoverOut);


    // When the user clicks on an li, set the text value to either 0 or 1
    // If the last li clicked was set to 0 then the next is set to 1 (and vice versa)
    // When the last li has been set, display the li text values to the below <h2>
    // HINT: remove the event handler from the li once it is clicked :)
    // Bonus: find a way to store the 0s and 1s in order on the page
    // Bonus: create an h2 that will have the binary code translation


    function addClickEvents() {
        let isZero = true;
        let counter = 0;

        let listItems = $("#list").children();

        listItems.click(function (e) {
            let liValue = isZero ? 0 : 1;

            $(this).text(liValue);

            isZero = !isZero;

            counter++;

            if (counter === listItems.length) {
                displayBinary();
            }

            $(this).off();
        });
    }

    function displayBinary() {
        let listItems = $("#list").children();
        let binaryValues = [];

        listItems.each(function () {
            binaryValues += $(this).text();
        })

        console.log(binaryValues);

        let outputStr = binaryValues.split(" ")
            .map(bin => String.fromCharCode(parseInt(bin, 2)))
            .join("");

        console.log(outputStr);
    }

    addClickEvents();



    // function randomNumber () {
    //     let random = Math.round(Math.random());
    //     return random;
    // }

    // $("li").click(function () {
    //     $(this).text(randomNumber);
    //     $(this).prop("onclick", null).off("click");
    // });


    /*
            TODO: When an li in the ul with a class of `bg-colors` is double-clicked,
             the background color of the page will change to the li's inner text
         */

    $(".bg-colors li").dblclick(function (){
        let backgroundColor = $(this).text();
        $("body").css("background", backgroundColor);
    });


</script>


</body>
</html>