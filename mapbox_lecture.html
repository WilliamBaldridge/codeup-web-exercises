<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mapbox API Lecture</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.1.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.1.0/mapbox-gl.css' rel='stylesheet'/>

    <style>
        #map {
            width: 400px;
            height: 70vh;
            margin: 15vh auto;
            border: 5px solid black
        }

        #zoo-heading{
            color: #0fb784;
        }
    </style>

</head>
<body>

<div id='map'></div>
<script src="js/keys.js"></script>
<script src="js/mapbox_utility.js"></script>
<script>
    mapboxgl.accessToken = MAPBOX_TOKEN;
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
        center: [-98.49, 29.42], // starting position [lng, lat]
        zoom: 9 // starting zoom
    });

    var popup = new mapboxgl.Popup({ offset: 25 }).setHTML(
        "<h1 id='zoo-heading'> The San Antonio Zoo </h1>"
        );

    var marker = new mapboxgl.Marker()
        .setLngLat([-98.4737, 29.4624])
        .setPopup(popup)
        .addTo(map);

    map.addControl(new mapboxgl.NavigationControl());

    // For UI search in map
    // map.addControl(
    //     new MapboxGeocoder({
    //         accessToken: mapboxgl.accessToken,
    //         mapboxgl: mapboxgl
    //     })
    //     );

    geocode("600 Navarro St #600, San Antonio, TX 78250", mapboxToken).then(function(data) {
        var codeupMarker = new mapboxgl.Marker()
            .setLngLat(data)
            .addTo(map);
    });

    reverseGeocode({lng: -97.9414, lat: 29.8833}, mapboxToken).then(function(data) {
        console.log(data);
    });

</script>


</body>
</html>